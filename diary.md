## 2020/09/23
- ログインした後に、さっきアクセスしようとしたページに戻れるように
- 未ログイン時に編集ボタンとかを出さない

## 2020/09/18

<!-- - なんとかActionを省略し、第一・第二引数にまとめる。なるべく引数に配列を渡したくない、型チェックができないので。 -->
<!-- - Configのルート定義に要認証フラグをつけたい。 -->
<!-- - ルーティングを自動化したい -->
- authはSessionに任せる。
- CSRF対策
- レスポンスクラスをAppとCで共有‥
- 挿入したタグの順番がばらばら

## 2020/09/09

#### 管理機能

- パスワード認証
- CUD機能を要認証に
- ビューの編集・削除・作成ボタンを非表示
- 

## ドットインストール

- 名前空間をうまく使いたかったが、オートロードの設定が思いつかないので保留中。よく使うはずの個別のコントローラーを（サブ名前空間だからといって）サブフォルダに入れるのはおかしい。

- バリデーションエラーを例外処理してオブジェクトで管理するの、スマートでいいなあ。でもバリデーションすることなさそう。


## 新規作成機能

- last-inserted-idを取得しておいて、idも指定して挿入する。
- Herokuだと$dotが未定義になってる

## 削除機能

- 本当に削除しますか、はい／いいえ。これはJSで実装する。とりあえずビューのスクリプトタグにベタ書き。
- リダイレクト。ResponseクラスはAppが持っているんだからそこでやるべきではと思ったが、よく考えたらControllerがやればいい。sendするかredirectするかはコントローラーが決めるのだから、前者をAppが、後者をControllerがやるのはおかしい。


## 実装したい機能

- 削除機能
- 追加機能
- 編集機能
- 追加機能の段階で管理者メニュー画面が必要になる
- adminログイン


## 開発環境と本番環境をいちいち手動で切り替えるのをやめたい（2020/08/25）

- 現状HerokuかDrafCodeの二択だが、柔軟に。
- Heroku
-> パスインフォON, DB: Postgres
- DraftCode
-> パスインフォOFF, DB: SQLite
- こうすれば、PC-> パスインフォON、DB: Postgres みたいな柔軟な対応もできる。

- 環境に合わせて動的に変更する必要があるので、Config.phpをどこからでも参照、というわけにはいかないか。（もしコンストラクターで環境変数を取得して変数を格納するのだとすると。）
- 参照されるのは以下の三つ。
    - Router: ルーティング定義（const）
    - Request: パスインフォがONかどうか
    - Controller(->Model): DBの種類
- Appクラスにconfigインスタンスを作るというのが安易な解決策だが、そうやって天下り式にすると開発時のテストがかなりややこしくなる。
- では、Configクラスにはコンストラクターを設置せず、個々のインスタンスを生成しない。個々の静的メソッドで、一回一回環境変数を取得して、そのつど計算して値を返す。

- パスインフォONのこと何て呼ぼうか。nginxでも通用する名前がいい。それと、正確に言えばApacheがなかろうとパスインフォは取得して返すわけだしな。でも面倒になってきた。
